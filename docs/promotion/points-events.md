# Points 暖春活动：积分运营节奏

## 1. 活动概览
“Points Carnival” 定位为 2026 年 2 月品牌联动，在积分商城中同步上线合作权益、社群入场券与限量周边，用积分换取真实体验、社群归属与公益参与。运营要点：引导“积分=权益+公益”，强调“本期兑换即支持合作救助站”。

## 2. 运营节奏
- 02/21：活动启动，推出新兑换品，首页弹窗+运营号推送“医院折扣/社群卡/周边礼包”三大主题。
- 02/24-03/02：举行 3 场社群分享会与城市合伙人训练营，社群优先报名码仅向已兑换“社群优先报名卡”的用户发放。
- 03/03-03/07：开放周边晒单抽奖，晒图即得 20 分回馈，同时展示“积分已转公益”的救助进展。

## 3. 奖励矩阵与 itemKey
| itemKey | 兑换项 | 积分 | 主要价值 | 供给说明 |
| --- | --- | --- | --- | --- |
| adoption-priority | 领养优先券 | 300 | 置顶申请，帮助牵手优先 | 限每月 2 张，兑换成功写入 `points_transactions`。 |
| health-report | AI 健康报告 | 180 | 生成可导出的健康档案 | 期内不限额，结果上传至 `pet_health_diary`。 |
| lucky-draw | 公益抽奖券 | 120 | 抽奖 + 善款捐助 | 稳定供应，延伸公益捐赠。 |
| hospital-checkup | 医院健康体检券 | 250 | 合作医院 7 折 + 加急预约 | 限 6 家合作医院的名额，退款/取消需更新 `points_transactions`。 |
| community-pass | 社群优先报名卡 | 220 | 社群活动、课程与资料库优先 | 每场活动保留 120 名，需同步社群提醒机制。 |
| merch-pack | 周边限量礼包 | 200 | 联名帆布袋 + 限量徽章 | 限量 200 份，兑换后异步触发物流与晒图返积分。 |

每个兑换都通过 `lib/api/points.ts` 调用 `redeem_points` RPC：
```ts
await supabase.rpc('redeem_points', { p_item_key: 'hospital-checkup', p_cost: 250 });
```
这会自动记录 `points_transactions`，若需要限量再加 `points_locks` 表保障并发。

## 4. 运营话术
a. 推广文案（App 推送 / 官网 banner）
- “暖春积分节上线：医院体检、社群优先名额、周边好物一次性铺开。积分换权限、换公益，也换成粉丝日常。”
- “每张兑换券背后都伴随救援资金，92% 的用户在兑换后收到 20 分晒图回馈。”

b. 社群留存文案
- “加入社群 - 领取社群优先卡，提前 1 小时抢沙龙席位，专属资料仓已经为你备好。”
- “晒出周边礼包开箱 + #PetConnect 积分周边 标签即可获得 20 分返还，助力下次兑换。”

c. 运营提示
- 通过 `BottomNav` 快捷入口把“积分商城”作为日常入口，用户兑换后可以马上看到剩余积分与公益捐赠进度。

## 5. 规则与公益约定
- 兑换成功后 showToast 明确剩余积分（比如“兑换成功，剩余 XX 积分”）并引导“查看活动→红包/公益进度”。
- 所有兑换都会触发后台将部分积分（>= 5%）转换为公益捐赠，记录在 `points_transactions` 的 metadata 中，并在活动页角标展示“已支持合作救助站”。
- 社群卡使用需与 `PointsTasks` 的任务联动（完成签到/晒图可获得额外 10 加成），确保激励闭环。
- 若未来需要控制限量（如周边/医院名额），可在调用 `redeem_points` 前写入 `points_locks` 表，再由触发器减配名额。若因物流/合作方原因取消兑换，应在同一事务内回滚并调用 `grant_points` 返还积分。

## 6. 公益延伸
鼓励用户在换礼同时“积分转公益”：在社群里发起“积分投票”时，用户可选择将任意份额（可为 20 分起）贡献给救助站，系统调用 `grant_points` 将剩余积分归零并将捐赠分值写入 `points_transactions` 的 `is_donated` 字段，运营团队会在月报中展示“本期已支持 XX 家救助站”。
