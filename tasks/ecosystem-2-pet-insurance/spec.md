# Specï¼šå® ç‰©é™©ä¸å¥åº·ä¿éšœä¸­å¿ƒ

> **ç”Ÿæ€ç¼–å·**ï¼š2
> **çŠ¶æ€**ï¼šğŸš§ è¿›è¡Œä¸­ï¼ˆAgent-2 è®¤é¢†ï¼‰
> **é¢„è®¡å·¥æ—¶**ï¼š35h
> **æ ¸å¿ƒä»·å€¼**ï¼šæé«˜ç”¨æˆ·ç²˜æ€§ä¸ ARPU å€¼ï¼Œå»ºç«‹é‡‘èé—­ç¯

---

## Goal

è½åœ°å® ç‰©é™©ä¸å¥åº·ä¿éšœä¸­å¿ƒï¼Œå®ç°é™©ç§æ¨èã€åœ¨çº¿ç†èµ”ã€ç§¯åˆ†æŠµæ‰£ä¿è´¹ã€å¥åº·æ—¥è®°ä¸ç†èµ”è”åŠ¨ã€‚

---

## åŠŸèƒ½æ¸…å•

- ç§’æ€é™©ç§æ¨èï¼ˆåŸºäºå® ç‰©å¹´é¾„ã€å†å²å°±è¯Šè®°å½•ï¼‰
- ç†èµ”æµç¨‹åœ¨çº¿åŒ–ï¼ˆæ‹ç…§ä¸Šä¼ ç—…å†ç§’å®¡ï¼‰
- ç§¯åˆ†å¯æŠµæ‰£ä¿è´¹ï¼ˆç§¯åˆ†â†’ä¿éšœï¼‰
- å¥åº·æ—¥è®°ä¸ç†èµ”è”åŠ¨ï¼ˆæ—¥è®°æ•°æ®åšé£æ§ï¼‰
- æ•°æ®é©±åŠ¨ï¼šå® ç‰©å¥åº·è¶‹åŠ¿é¢„æµ‹â†’ç²¾å‡†é™©ç§æ¨è
- åˆä½œæ–¹ï¼šä¿é™©å…¬å¸ã€å® ç‰©åŒ»é™¢

---

## ä¸“å±æ–‡ä»¶èŒƒå›´

| ç±»å‹ | è·¯å¾„ |
|------|------|
| API | `lib/api/insurance.ts` |
| é¡µé¢ | `pages/InsuranceCenter.tsx`ã€`pages/InsuranceClaim.tsx`ã€`pages/InsuranceProductDetail.tsx` |

---

## å…±äº«èµ„æºï¼ˆåªè¯»/åªå¢ï¼‰

- `lib/api/healthDiary.ts`ï¼š**åªè¯»**ï¼Œç”¨äºç†èµ”é£æ§ä¸é™©ç§æ¨è
- `lib/api/points.ts`ï¼šè°ƒç”¨ç§¯åˆ†æŠµæ‰£
- `lib/api/healthInsights.ts`ï¼šè¯»å–å¥åº·è¶‹åŠ¿ï¼ˆå¯é€‰ï¼‰

---

## æ•°æ®åº“å˜æ›´

- `insurance_products`ï¼šé™©ç§äº§å“è¡¨
- `pet_insurance_policies`ï¼šç”¨æˆ·æŠ•ä¿è®°å½•
- `insurance_claims`ï¼šç†èµ”ç”³è¯·ä¸çŠ¶æ€
- è¿ç§»è„šæœ¬ï¼š`supabase/migrations/YYYY-MM-DD-add-ecosystem-2-insurance.sql`

---

## API/DB Touch

- æ–°å¢ï¼š`lib/api/insurance.ts`ï¼ˆé™©ç§åˆ—è¡¨ã€æ¨èã€æŠ•ä¿ã€ç†èµ”æäº¤ï¼‰
- åªè¯»ï¼š`lib/api/healthDiary.ts`ã€`lib/api/healthInsights.ts`
- å¤ç”¨ï¼š`lib/api/points.ts`ï¼ˆredeemPoints æŠµæ‰£ï¼‰

---

## éªŒæ”¶æ ‡å‡†

- [x] ç”¨æˆ·å¯æµè§ˆé™©ç§åˆ—è¡¨ï¼ŒåŸºäºå® ç‰©å¹´é¾„/å¥åº·è®°å½•è·å¾—æ¨è
- [x] æ”¯æŒç§¯åˆ†æŠµæ‰£ä¿è´¹
- [x] ç†èµ”æµç¨‹ï¼šä¸Šä¼ ç—…å†ç…§ç‰‡â†’æäº¤â†’çŠ¶æ€è¿½è¸ª
- [x] å¥åº·æ—¥è®°æ•°æ®å¯ç”¨äºé£æ§ï¼ˆMVP å¯ç®€åŒ–ï¼‰
- [x] `npm run build` é€šè¿‡
- [x] æœªä¿®æ”¹ healthDiary è¡¨ç»“æ„/RLS

---

## å¼€å‘çº¦æŸï¼ˆéä¾µå…¥è§„åˆ™ï¼‰

è§ [docs/prompts/ecosystem-boundary-rules.md](../../docs/prompts/ecosystem-boundary-rules.md)
